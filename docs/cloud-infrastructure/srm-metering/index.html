<!doctype html><html lang=en-us dir=ltr>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="SRM Metering and Reporting #  VMware Site Recovery Manager (SRM) is a disaster recovery solution that provides automated orchestration and non-disruptive testing of centralized recovery plans for all virtualized applications. It allows service providers to offer reliable, automated protection for workloads hosted on their own cloud infrastructure and being replicated to another cloud destination (DR of the cloud) or workloads running on customer premises and being replicated to the cloud infrastructure (DR to the Cloud).">
<meta name=theme-color content="#FFFFFF">
<meta name=color-scheme content="light dark"><meta property="og:title" content="SRM Metering and Reporting">
<meta property="og:description" content="SRM Metering and Reporting #  VMware Site Recovery Manager (SRM) is a disaster recovery solution that provides automated orchestration and non-disruptive testing of centralized recovery plans for all virtualized applications. It allows service providers to offer reliable, automated protection for workloads hosted on their own cloud infrastructure and being replicated to another cloud destination (DR of the cloud) or workloads running on customer premises and being replicated to the cloud infrastructure (DR to the Cloud).">
<meta property="og:type" content="article">
<meta property="og:url" content="http://vcpat.cloudhappens.io/docs/cloud-infrastructure/srm-metering/"><meta property="article:section" content="docs">
<meta property="article:modified_time" content="2022-10-24T13:50:07-04:00">
<title>SRM Metering and Reporting | VMware Cloud Provider Architecture Toolkit</title>
<link rel=manifest href=/manifest.json>
<link rel=icon href=/favicon.png type=image/x-icon>
<link rel=stylesheet href=/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous>
<script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.0d7c30e5930a729cc2b5c297d7dd75441086460741911445e7ce0151544f6849.js integrity="sha256-DXww5ZMKcpzCtcKX1911RBCGRgdBkRRF584BUVRPaEk=" crossorigin=anonymous></script>
</head>
<body dir=ltr>
<input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<main class="container flex">
<aside class=book-menu>
<div class=book-menu-content>
<nav>
<h2 class=book-brand>
<a class="flex align-center" href=/><span>VMware Cloud Provider Architecture Toolkit</span>
</a>
</h2>
<div class=book-search>
<input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/>
<div class="book-search-spinner hidden"></div>
<ul id=book-search-results></ul>
</div>
<ul>
<li><a href=/feedback/><em>Feedback</em></a></li>
</ul>
<h2 id=draft-validated-solutions>
Draft Validated Solutions:
<a class=anchor href=#draft-validated-solutions>#</a>
</h2>
<ul>
<li><a href=/docs/cloud-infrastructure/><strong>Cloud Infrastructure</strong></a>
<ul>
<li><a href=/docs/cloud-infrastructure/planning/>Planning and Preparation</a></li>
<li><a href=/docs/cloud-infrastructure/design/>Design Objectives</a></li>
<li><a href=/docs/cloud-infrastructure/detailed-design/>Detailed Design</a></li>
<li><a href=/docs/cloud-infrastructure/implementation/>Implementation</a></li>
<li><a href=/docs/cloud-infrastructure/operations/>Operational Guidance</a></li>
<li><a href=/docs/cloud-infrastructure/design-decisions/>Design Decisions</a></li>
<li><a href=/docs/cloud-infrastructure/solution-interop/>Solution Interoperability</a></li>
</ul>
</li>
<li><a href=/docs/networking-security/><strong>Networking and Security</strong></a>
<ul>
<li><a href=/docs/networking-security/planning/>Planning and Preparation</a></li>
<li><a href=/docs/networking-security/design/>Design Objectives</a></li>
<li><a href=/docs/networking-security/detailed-design/>Detailed Design</a></li>
<li><a href=/docs/networking-security/implementation/>Implementation</a></li>
<li><a href=/docs/networking-security/operations/>Operational Guidance</a></li>
</ul>
</li>
<li><a href=/docs/dr-migration/><strong>DR and Migration</strong></a>
<ul>
<li><a href=/docs/dr-migration/planning/>Planning and Preparation</a></li>
<li><a href=/docs/dr-migration/design/>Design Objectives</a></li>
<li><a href=/docs/dr-migration/detailed-design/>Detailed Design</a></li>
<li><a href=/docs/dr-migration/implementation/>Implementation</a></li>
<li><a href=/docs/dr-migration/operations/>Operational Guidance</a></li>
</ul>
</li>
<li><a href=/docs/developer-ready-cloud/><strong>Developer Ready Cloud</strong></a>
<ul>
<li><a href=/docs/developer-ready-cloud/planning/>Planning and Preparation</a></li>
<li><a href=/docs/developer-ready-cloud/design/>Design Objectives</a></li>
<li><a href=/docs/developer-ready-cloud/detailed-design/>Detailed Design</a></li>
<li><a href=/docs/developer-ready-cloud/implementation/>Implementation</a></li>
<li><a href=/docs/developer-ready-cloud/operations/>Operational Guidance</a></li>
</ul>
</li>
<li><a href=/docs/sovereign-cloud/><strong>Sovereign Cloud</strong></a>
<ul>
<li><a href=/docs/sovereign-cloud/planning/>Planning and Preparation</a></li>
<li><a href=/docs/sovereign-cloud/design/>Design Objectives</a></li>
<li><a href=/docs/sovereign-cloud/detailed-design/>Detailed Design</a></li>
<li><a href=/docs/sovereign-cloud/implementation/>Implementation</a></li>
<li><a href=/docs/sovereign-cloud/operations/>Operational Guidance</a></li>
</ul>
</li>
</ul>
<h2 id=toolkit-documents>
Toolkit Documents:
<a class=anchor href=#toolkit-documents>#</a>
</h2>
<ul>
<li><strong>VMware Cloud Provider Lifecycle Manager</strong></li>
<li><strong>VMware Cloud Director</strong>
<ul>
<li>Scale</li>
<li>Multi-site</li>
<li>Extensibility</li>
<li>Branding & Themes</li>
<li>Automation</li>
</ul>
</li>
<li><strong>VMware Cloud Director service</strong>
<ul>
<li><a href=/docs/cloud-director-service/implementation/>Implementation</a></li>
</ul>
</li>
<li><strong>VMware Cloud Director Availability</strong></li>
<li><strong>VMware vCloud Usage Meter</strong></li>
<li><strong>VMware Cloud Director Container Service Extension</strong></li>
<li><strong>VMware Cloud Director Oject Storage Extension</strong></li>
<li><strong>VMware Cloud Director Application Launchpad</strong>
<br></li>
</ul>
<ul>
<li>
<a href=https://cloudsolutions.vmware.com target=_blank rel=noopener>
VMware Cloud Solutions
</a>
</li>
</ul>
</nav>
<script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</div>
</aside>
<div class=book-page>
<header class=book-header>
<div class="flex align-center justify-between">
<label for=menu-control>
<img src=/svg/menu.svg class=book-icon alt=Menu>
</label>
<strong>SRM Metering and Reporting</strong>
<label for=toc-control>
</label>
</div>
</header>
<article class=markdown><h1 id=srm-metering-and-reporting>
SRM Metering and Reporting
<a class=anchor href=#srm-metering-and-reporting>#</a>
</h1>
<p>VMware Site Recovery Manager (SRM) is a disaster recovery solution that provides automated orchestration and non-disruptive testing of centralized recovery plans for all virtualized applications. It allows service providers to offer reliable, automated protection for workloads hosted on their own cloud infrastructure and being replicated to another cloud destination (DR of the cloud) or workloads running on customer premises and being replicated to the cloud infrastructure (DR to the Cloud).
Usage Meter 4.5.0.1 supports the metering of SRM Protected VMs. A protected VM is any virtual machine that is part of an SRM protection group, regardless of whether the VM is powered-on or off. A license is only required for the VM on the active site; no license is required at the failover site.
The SRM collector is part of the vCenter collector on the Usage Meter 4.5.0.1 appliance. All collected SRM protected VM details will be in the vCenter collection archives. The collector collects data once a day, and it tracks only the protected VMs present in the protection group.</p>
<p><strong>Note:</strong> vCloud Usage Meter 4.5.0.1 only supports metering of protected VMs in READY state and not protected VMs in SHADOWING state.</p>
<h2 id=product-detection>
Product Detection
<a class=anchor href=#product-detection>#</a>
</h2>
<p>SRM is automatically detected in vCenter when the latter is added for metering in the Usage Meter 4.5.0.1 web application. The appliance checks if there is an SRM instance installed on the metered vCenter, and if there is, it receives information from the SRM server for the count of the protected VMs. The service providers do not need to provide site details for the SRM metering. They can deactivate the SRM metering from the UM 4.5.0.1 web application for any added vCenter. Usage Meter 4.5.0.1 detects and meters SRM versions from 8.2.1 to 8.5.</p>
<p>Metering of SRM provides enhanced billing bi-directional support, for example, from protection to failover site and from failover to protection site. Usage Meter 4.5.0.1 supports the metering of multiple failover sites, for example, from site A to site B and from site A to site C. If any site part of a pair of sites is not added to a Usage Meter appliance, then no VM will be counted as a protected VM.
Metering of active and failover sites with a single UM 4.5.0.1 appliance:</p>
<table>
<thead>
<tr>
<th>Setup</th>
<th>Expected Monthly Usage Report Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>Both sites A and B are added to the same Usage Meter 4.5.0.1. Both vCenter and SRM are enabled.</td>
<td>The Monthly Usage Report will contain 8 protected VMs. 5 protected VMs from site A. 3 protected VMs from site B. Note: In Usage Meter 3.6.1, billing on both sites is not possible.</td>
</tr>
<tr>
<td>Site A added to Usage Meter 4.5.0.1, Site B is not added to Usage Meter 4.5.0.1.</td>
<td>The Monthly Usage Report will contain 5 protected VMs. 5 protected VMs from site A.</td>
</tr>
<tr>
<td>Both A and B sites are added to the same Usage Meter 4.5.0.1. However, site B is deactivated in the Usage Meter web application by deselecting the following checkbox: Meter VMs protected by all SRM&rsquo;s associated with this VC in the Edit this vCenter/vCloud Foundation Server window.</td>
<td>The Monthly Usage Report will contain 5 protected VMs. 5 protected VMs from site A. 0 protected VMs from site B. Note: Metering in this scenario is the same as with UM 3.6.1.</td>
</tr>
<tr>
<td>Both sites A and B are added to the same Usage Meter 4.5.0.1. However, site A and B are deactivated in the Usage Meter web application by deselecting the following checkbox: Meter VMs protected by all SRM&rsquo;s associated with this VC in the Edit this vCenter/vCloud Foundation Server window.</td>
<td>The Monthly Usage Report will contain 0 protected VMs. 0 protected VMs from site A. 0 protected VMs from site B. <strong>Note:</strong> In this scenario, there will be no billing for SRM, only vCenter-based VM usage part of the Monthly Usage Report.</td>
</tr>
</tbody>
</table>
<p>Metering of active and failover sites with multiple Usage Meter 4.5.0.1 appliances registered in the same contract:</p>
<table>
<thead>
<tr>
<th>Setup</th>
<th>Monthly Usage Report Number of Protected VMs</th>
</tr>
</thead>
<tbody>
<tr>
<td>UM 1 and UM 2 both belong to the same contract. Site A is metered by UM 1; vCenter and SRM are both enabled. Site B is metered by UM 2; vCenter and SRM are both enabled.</td>
<td>The Monthly Usage Report of UM 1 will contain 8 protected VMs. The Monthly Usage Report of UM 2 will contain 8 protected VMs. Per the contract, there will be 16 protected VMs.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><br>Workarounds for avoiding duplicate billing:<br> <br></th>
<th><br>Monthly Usage Report Number of Protected VMs</th>
</tr>
</thead>
<tbody>
<tr>
<td><br>Avoiding duplicate SRM billing<br> <br> <br> <br>UM 1 and UM 2 both belong to the same contract.<br> <br>Site A is metered by UM 1; vCenter and SRM are both enabled.<br> <br>Site B is metered by UM 2; vCenter is enabled, while SRM is deactivated. <br> <br>Note: SRM metering can be enabled/deactivated in the Usage Meter 4.5.0.1 web application by clicking Edit for a selected vCenter/vCloud Foundation instance and then by selecting/deselecting the checkbox: Meter VMs protected by all SRM&rsquo;s associated with this VC in the Edit this vCenter/vCloud Foundation Server window.</td>
<td><br> <br> <br>The Monthly Usage Report of UM 1 will contain 8 protected VMs.<br> <br>The Monthly Usage Report of UM 2 will contain 0 protected VMs.<br> <br>Per the contract, there will be 8 protected VMs.<br> <br><strong>Note:</strong> In the example with UM 2, there will be no SRM specific billing, but only vCenter-based VM usage information in the Monthly Usage Report of that appliance.<br> <br></td>
</tr>
<tr>
<td><br> <br> <br>Avoiding duplicate SRM and vCenter billing<br> <br>UM 1 & UM 2 both belong to the same contract.<br> <br>Site A is metered by UM 1; vCenter and SRM are both enabled.<br> <br>Site B is metered by UM 2; vCenter is deactivated (by applying a demo license to all hosts), and SRM is also deactivated.<br> <br>Note: SRM metering can be deactivated in the Usage Meter 4.5.0.1 web application by clicking Edit for a selected vCenter/vCloud Foundation instance and then by deselecting the checkbox: Meter VMs protected by all SRM&rsquo;s associated with this VC in the Edit this vCenter/vCloud Foundation Server window.</td>
<td><br> <br> <br>The Monthly Usage Report of UM 1 will contain 8 protected VMs.<br> <br>The Monthly Usage Report of UM 2 will contain 0 protected VMs.<br> <br>Per contract, there will be 8 protected VMs.<br> <br><strong>Note:</strong> In the scenario where both vCenter and SRM are deactivated, there will be no SRM specific billing and no vCenter-based VM usage in the Monthly Usage Report.<br> <br></td>
</tr>
</tbody>
</table>
<h2 id=sample-monthly-usage-report>
Sample Monthly Usage Report
<a class=anchor href=#sample-monthly-usage-report>#</a>
</h2>
<p>The following is an excerpt from the Usage Meter 4.5.0.1 Monthly Usage Report and contains an example of SRM-metered data.</p>
<table>
<thead>
<tr>
<th><strong>Product</strong></th>
<th><strong>Metric</strong></th>
<th><strong>Units to be reported</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>VMware vCenter Site Recovery Manager</td>
<td>Protected VMs</td>
<td>103</td>
</tr>
</tbody>
</table>
</article>
<footer class=book-footer>
<div class="flex flex-wrap justify-between">
</div>
<script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>
</footer>
<div class=book-comments>
</div>
<label for=menu-control class="hidden book-menu-overlay"></label>
</div>
</main>
</body>
</html>
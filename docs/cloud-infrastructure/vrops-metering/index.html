<!doctype html><html lang=en-us dir=ltr>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="VMware Aria Operations Metering and Reporting #  Usage Meter supports several VMware Aria Operations (vROps) configurations:
 A Service Provider managed VMware Aria Operations server monitoring a single tenant. A Service Provider hosted VMware Aria Operations server for multiple tenants. A Service Provider hosted VMware Aria Operations server that manages VMs hosted by SP or hosted on customer’s premises. A VMware Aria Operations server configured with multiple vCenter servers.  Configuration #  VMware Aria Operations in Usage Meter 4.">
<meta name=theme-color content="#FFFFFF">
<meta name=color-scheme content="light dark"><meta property="og:title" content="VMware Aria Operations Metering and Reporting">
<meta property="og:description" content="VMware Aria Operations Metering and Reporting #  Usage Meter supports several VMware Aria Operations (vROps) configurations:
 A Service Provider managed VMware Aria Operations server monitoring a single tenant. A Service Provider hosted VMware Aria Operations server for multiple tenants. A Service Provider hosted VMware Aria Operations server that manages VMs hosted by SP or hosted on customer’s premises. A VMware Aria Operations server configured with multiple vCenter servers.  Configuration #  VMware Aria Operations in Usage Meter 4.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://vcpat.cloudhappens.io/docs/cloud-infrastructure/vrops-metering/"><meta property="article:section" content="docs">
<meta property="article:modified_time" content="2023-09-29T16:42:48+05:30">
<title>VMware Aria Operations Metering and Reporting | VMware Cloud Provider Architecture Toolkit</title>
<link rel=manifest href=/manifest.json>
<link rel=icon href=/favicon.png type=image/x-icon>
<link rel=stylesheet href=/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous>
<script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.5d899249693b8aa4f548efa1b90b8aa16ecc0a1e2f7b938056a2bc7942d193bc.js integrity="sha256-XYmSSWk7iqT1SO+huQuKoW7MCh4ve5OAVqK8eULRk7w=" crossorigin=anonymous></script>
</head>
<body dir=ltr>
<input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<main class="container flex">
<aside class=book-menu>
<div class=book-menu-content>
<nav>
<h2 class=book-brand>
<a class="flex align-center" href=/><span>VMware Cloud Provider Architecture Toolkit</span>
</a>
</h2>
<div class=book-search>
<input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/>
<div class="book-search-spinner hidden"></div>
<ul id=book-search-results></ul>
</div>
<ul>
<li><a href=/feedback/><em>Feedback</em></a></li>
</ul>
<h2 id=draft-validated-solutions>
Draft Validated Solutions:
<a class=anchor href=#draft-validated-solutions>#</a>
</h2>
<ul>
<li><a href=/docs/cloud-infrastructure/><strong>Cloud Infrastructure</strong></a>
<ul>
<li><a href=/docs/cloud-infrastructure/planning/>Planning and Preparation</a></li>
<li><a href=/docs/cloud-infrastructure/design/>Design Objectives</a></li>
<li><a href=/docs/cloud-infrastructure/detailed-design/>Detailed Design</a></li>
<li><a href=/docs/cloud-infrastructure/implementation/>Implementation</a></li>
<li><a href=/docs/cloud-infrastructure/operations/>Operational Guidance</a></li>
<li><a href=/docs/cloud-infrastructure/design-decisions/>Design Decisions</a></li>
<li><a href=/docs/cloud-infrastructure/solution-interop/>Solution Interoperability</a></li>
<li><a href=/docs/cloud-infrastructure/appendix/>Appendix</a></li>
</ul>
</li>
<li><a href=/docs/dr-migration/><strong>DR and Migration</strong></a>
<ul>
<li><a href=/docs/dr-migration/planning/>Planning and Preparation</a></li>
<li><a href=/docs/dr-migration/design/>Design Objectives</a></li>
<li><a href=/docs/dr-migration/detailed-design/>Detailed Design</a></li>
<li><a href=/docs/dr-migration/implementation/>Implementation</a></li>
<li><a href=/docs/dr-migration/operations/>Operational Guidance</a></li>
</ul>
</li>
<li><a href=/docs/developer-ready-cloud/><strong>Developer Ready Cloud</strong></a>
<ul>
<li><a href=/docs/developer-ready-cloud/planning/>Planning and Preparation</a></li>
<li><a href=/docs/developer-ready-cloud/design/>Design Objectives</a></li>
<li><a href=/docs/developer-ready-cloud/detailed-design/>Detailed Design</a></li>
<li><a href=/docs/developer-ready-cloud/implementation/>Implementation</a></li>
<li><a href=/docs/developer-ready-cloud/operations/>Operational Guidance</a></li>
</ul>
</li>
<li><a href=/docs/sovereign-cloud/><strong>Sovereign Cloud</strong></a>
<ul>
<li><a href=/docs/sovereign-cloud/planning/>Planning and Preparation</a></li>
<li><a href=/docs/sovereign-cloud/design/>Design Objectives</a></li>
<li><a href=/docs/sovereign-cloud/detailed-design/>Detailed Design</a></li>
<li><a href=/docs/sovereign-cloud/implementation/>Implementation</a></li>
<li><a href=/docs/sovereign-cloud/operations/>Operational Guidance</a></li>
</ul>
</li>
</ul>
<h2 id=toolkit-documents>
Toolkit Documents:
<a class=anchor href=#toolkit-documents>#</a>
</h2>
<ul>
<li><strong>VMware Cloud Provider Lifecycle Manager</strong></li>
<li><a href=/docs/cloud-director/><strong>VMware Cloud Director</strong></a>
<ul>
<li>Automation</li>
<li>Branding & Themes</li>
<li>Extensibility</li>
<li><a href=/docs/cloud-director/identity-access/>Identity & Access</a></li>
<li>Multi-site</li>
<li>Networking</li>
<li>Scale</li>
<li>Security</li>
</ul>
</li>
<li><strong>VMware Cloud Director service</strong>
<ul>
<li><a href=/docs/cloud-director-service/implementation/>Implementation</a></li>
</ul>
</li>
<li><strong>VMware Cloud Director Availability</strong></li>
<li><strong>VMware vCloud Usage Meter</strong></li>
<li><strong>VMware Cloud Director Container Service Extension</strong></li>
<li><strong>VMware Cloud Director Oject Storage Extension</strong></li>
<li><strong>VMware Cloud Director Application Launchpad</strong>
<br></li>
</ul>
<ul>
<li>
<a href=https://cloudsolutions.vmware.com target=_blank rel=noopener>
VMware Cloud Solutions
</a>
</li>
</ul>
</nav>
<script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</div>
</aside>
<div class=book-page>
<header class=book-header>
<div class="flex align-center justify-between">
<label for=menu-control>
<img src=/svg/menu.svg class=book-icon alt=Menu>
</label>
<strong>VMware Aria Operations Metering and Reporting</strong>
<label for=toc-control>
</label>
</div>
</header>
<article class=markdown><h1 id=vmware-aria-operations-metering-and-reporting>
VMware Aria Operations Metering and Reporting
<a class=anchor href=#vmware-aria-operations-metering-and-reporting>#</a>
</h1>
<p>Usage Meter supports several VMware Aria Operations (vROps) configurations:</p>
<ul>
<li>A Service Provider managed VMware Aria Operations server monitoring a single tenant.</li>
<li>A Service Provider hosted VMware Aria Operations server for multiple tenants.</li>
<li>A Service Provider hosted VMware Aria Operations server that manages VMs hosted by SP or hosted on customer’s premises.</li>
<li>A VMware Aria Operations server configured with multiple vCenter servers.</li>
</ul>
<h2 id=configuration>
Configuration
<a class=anchor href=#configuration>#</a>
</h2>
<p>VMware Aria Operations in Usage Meter 4.5.0.1 is added the same way as the rest supported VMware products. Providers need to enter the endpoint IP address or hostname, username, and password. If a vCenter server monitored by vROps is added to Usage Meter, then this vCenter will appear as a referenced vCenter in the details of the added vROps instance.</p>
<p>vCenter servers monitored by a VMware Aria Operations server, which are also added for metering by Usage Meter, are named “Managed vCenter” servers. vCenter servers monitored by a VMware Aria Operations server but not added for metering to Usage Meter are named “Unmanaged Servers”. Both Managed and Unmanaged vCenter servers are listed in Usage Meter VMware Aria Operations report lines.</p>
<p>“Unmanaged Servers” can be associated with only one VMware Aria Operations instance if monitored by multiple instances. This will be the VMware Aria Operations instance with the highest edition. Virtual machines part of that “Unmanaged Servers” will be billed once no matter how many VMware Aria Operations instances are monitoring them. For the billing of monitored VMs will be taken the VMware Aria Operations instance with the highest edition.</p>
<p>Usage Meter connects to a VMware Aria Operations server using the account provided by the Usage Meter administrator. Usage Meter will meter all VMs that are visible through the provided account.</p>
<p>To meter only a subset of monitored VMs, for example, to divide monitoring by Tenant, VMware Aria Operations should be configured to filter the monitored virtual machines to include only a subset of the VMs deployed to the monitored vCenter instance.</p>
<p>This is accomplished by creating a new account in VMware Aria Operations and configuring Role Base Access Controls to restrict the view of the account to the desired Virtual Machines. The RBAC restricted account and credentials are provided to Usage Meter when the VMware Aria Operations server registration is completed.<br>
 
Refer to the <a href="https://vmstarcommunity.force.com/partnerconnect/PC_Login?ec=302&startURL=%2Fpartnerconnect%2Fs%2Fcontentdocument%2F06980000000bpky">Product Usage Guide</a>for detailed configuration instructions.</p>
<p><img src=/images/usage-meter-product-detection/vrops-1.png alt>)
Figure 10</p>
<h2 id=metering>
Metering
<a class=anchor href=#metering>#</a>
</h2>
<p>The VMware Aria Operations license edition is retrieved by Usage Meter from the VMware Aria Operations server during each data collection.
VMware Aria Operations metering is based on Virtual Machines monitored by a VMware Aria Operations Server. Service providers are responsible for reporting usage for monitored VMs and OSI Instances (which represent non-virtualized servers). Usage Meter 4.5.0.1 does not track OSI instances monitored by VMware Aria Operations or add-on packages such as Blue Medora.
Usage Meter 4.5.0.1 automatically detects the following VMware Aria Operations editions:</p>
<ul>
<li>VMware Aria Operations Standard</li>
<li>VMware Aria Operations Advanced</li>
<li>VMware Aria Operations Enterprise</li>
</ul>
<p>When Usage Meter connects to a VMware Aria Operations instance, it checks for its version. If the version of the metered VMware Aria Operations instance is 8.6 or later, Usage Meter checks if there are VMs part of a license group. If there are such VMs, Usage Meter 4.5.0.1 reports them against the highest VMware Aria Operations edition assigned to that license group. In case there is a VM part of multiple license groups, then Usage Meter will report the highest edition of the first license group it queries.</p>
<p>For VMware Aria Operations instances with previous versions, Usage Meter 4.5.0.1 will only report the monitored VMs against the highest VMware Aria Operations edition that it detects. Usage Meter 4.5.0.1 will not check if there are VMs part of license groups for VMware Aria Operations before version 8.6.</p>
<p>For example, if Usage Meter 4.5.0.1 connects to VMware Aria Operations 8.5 and it detects two license editions: Advanced and Standard, then for all VMs monitored by that vROps, the reported license by Usage Meter 4.5.0.1 will be Advanced.
In the Monthly Usage Report, the highest detected vROps license edition by Usage Meter will be reported irrespective of the vROps version. The highest license against which a VM is reported can be checked in the Virtual Machine History Report.</p>
<h2 id=reporting>
Reporting
<a class=anchor href=#reporting>#</a>
</h2>
<p>VMware Aria Operations is reported by Usage Meter 4.5.0.1 as either Flex Add-on or standalone.
When usage is reported as a Flex Add-on, the metric is the Avg Capped Billed vRAM value of the monitored Virtual Machine.
When reported standalone, the metric is the Average Number of Virtual Machines monitored by VMware Aria Operations during the reporting month.</p>
<p>The following rules apply to the reporting of VMware Aria Operations:</p>
<ul>
<li>VMware Aria Operations Standard, Advanced and Enterprise editions are reported as a Flex add-on or standalone depending on the customer’s preference.</li>
<li>vCenter servers using VMware Aria Operations will always be reported as a standalone line item on the monthly usage report as (unmanaged) if they are not added to vCloud Usage Meter.</li>
<li>When VMware Aria Operations edition is reported as standalone, and the vCenter servers monitored by it are added to Usage Meter 4.5.0.1, then the monthly usage report will include a single line VMware Aria Operations edition (managed).</li>
<li>Unmanaged vCenter Servers are associated with only one VMware Aria Operations instances if monitored by multiple VMware Aria Operations instances. The VMs of those unmanaged vCenter Servers will be billed once based on the VMware Aria Operations instance with the highest edition.</li>
</ul>
<h2 id=metering-scenarios>
Metering Scenarios
<a class=anchor href=#metering-scenarios>#</a>
</h2>
<p><strong>Scenario One:</strong> VMware Aria Operations Server monitoring both SP and Tenant vCenters</p>
<p><img src=/images/usage-meter-product-detection/vrops-2.png alt></p>
<p>Figure 11</p>
<p>Consider the following reporting scenario:
A vCenter server is registered with Usage Meter.<br>
A VMware Aria Operations server that monitors the same vCenter is also added for metering to Usage Meter 4.5.0.1.
Usage Meter queries the VMware Aria Operations server to determine what vCenter servers it monitors.
The VMware Aria Operations server returns a list of three vCenter servers, only one of which is registered with Usage Meter.
Usage Meter monthly report will include 2 Unmanaged VMware Aria Operations servers and 1 Managed VMware Aria Operations server line items.</p>
</article>
<footer class=book-footer>
<div class="flex flex-wrap justify-between">
</div>
<script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>
</footer>
<div class=book-comments>
</div>
<label for=menu-control class="hidden book-menu-overlay"></label>
</div>
</main>
</body>
</html>
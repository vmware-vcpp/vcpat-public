<!doctype html><html lang=en-us dir=ltr>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="vRealize Operations Metering and Reporting #  Usage Meter supports several vRealize Operations (vROps) configurations:
 A Service Provider managed vRealize Operations server monitoring a single tenant. A Service Provider hosted vRealize Operations server for multiple tenants. A Service Provider hosted vRealize Operations server that manages VMs hosted by SP or hosted on customer’s premises. A vRealize Operations server configured with multiple vCenter servers.  Configuration #  vRealize Operations in Usage Meter 4.">
<meta name=theme-color content="#FFFFFF">
<meta name=color-scheme content="light dark"><meta property="og:title" content="vRealize Operations Metering and Reporting">
<meta property="og:description" content="vRealize Operations Metering and Reporting #  Usage Meter supports several vRealize Operations (vROps) configurations:
 A Service Provider managed vRealize Operations server monitoring a single tenant. A Service Provider hosted vRealize Operations server for multiple tenants. A Service Provider hosted vRealize Operations server that manages VMs hosted by SP or hosted on customer’s premises. A vRealize Operations server configured with multiple vCenter servers.  Configuration #  vRealize Operations in Usage Meter 4.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://vcpat.cloudhappens.io/docs/cloud-infrastructure/vrops-metering/"><meta property="article:section" content="docs">
<meta property="article:modified_time" content="2022-07-05T14:30:16-04:00">
<title>vRealize Operations Metering and Reporting | VMware Cloud Provider Architecture Toolkit</title>
<link rel=manifest href=/manifest.json>
<link rel=icon href=/favicon.png type=image/x-icon>
<link rel=stylesheet href=/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous>
<script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.3ea7b04d20863a63d227dedf754fc545b3448d4e76e25d5157408c9805e246b4.js integrity="sha256-PqewTSCGOmPSJ97fdU/FRbNEjU524l1RV0CMmAXiRrQ=" crossorigin=anonymous></script>
</head>
<body dir=ltr>
<input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<main class="container flex">
<aside class=book-menu>
<div class=book-menu-content>
<nav>
<h2 class=book-brand>
<a class="flex align-center" href=/><span>VMware Cloud Provider Architecture Toolkit</span>
</a>
</h2>
<div class=book-search>
<input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/>
<div class="book-search-spinner hidden"></div>
<ul id=book-search-results></ul>
</div>
<ul>
<li><a href=/docs/cloud-infrastructure/><strong>Cloud Infrastructure</strong></a>
<ul>
<li><a href=/docs/cloud-infrastructure/planning/>Planning and Preparation</a></li>
<li><a href=/docs/cloud-infrastructure/design/>Design</a></li>
<li><a href=/docs/cloud-infrastructure/implementation/>Implementation</a></li>
<li><a href=/docs/cloud-infrastructure/operations/>Operations</a></li>
</ul>
</li>
<li><a href=/docs/networking-security/><strong>Networking & Security</strong></a>
<ul>
<li><a href=/docs/networking-security/planning/>Planning and Preparation</a></li>
<li><a href=/docs/networking-security/design/>Design</a></li>
<li><a href=/docs/networking-security/implementation/>Implementation</a></li>
<li><a href=/docs/networking-security/operations/>Operations</a></li>
</ul>
</li>
<li><a href=/docs/dr-migration/><strong>DR & Migration</strong></a>
<ul>
<li><a href=/docs/dr-migration/planning/>Planning and Preparation</a></li>
<li><a href=/docs/dr-migration/design/>Design</a></li>
<li><a href=/docs/dr-migration/implementation/>Implementation</a></li>
<li><a href=/docs/dr-migration/operations/>Operations</a></li>
</ul>
</li>
<li><a href=/docs/developer-ready-cloud/><strong>Developer Ready Cloud</strong></a>
<ul>
<li><a href=/docs/developer-ready-cloud/planning/>Planning and Preparation</a></li>
<li><a href=/docs/developer-ready-cloud/design/>Design</a></li>
<li><a href=/docs/developer-ready-cloud/implementation/>Implementation</a></li>
<li><a href=/docs/developer-ready-cloud/operations/>Operations</a></li>
</ul>
</li>
<li><a href=/docs/sovereign-cloud/><strong>Sovereign Cloud</strong></a>
<ul>
<li><a href=/docs/sovereign-cloud/planning/>Planning and Preparation</a></li>
<li><a href=/docs/sovereign-cloud/design/>Design</a></li>
<li><a href=/docs/sovereign-cloud/implementation/>Implementation</a></li>
<li><a href=/docs/sovereign-cloud/operations/>Operations</a>
<br></li>
</ul>
</li>
</ul>
<ul>
<li>
<a href=https://cloudsolutions.vmware.com target=_blank rel=noopener>
VMware Cloud Solutions
</a>
</li>
</ul>
</nav>
<script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</div>
</aside>
<div class=book-page>
<header class=book-header>
<div class="flex align-center justify-between">
<label for=menu-control>
<img src=/svg/menu.svg class=book-icon alt=Menu>
</label>
<strong>vRealize Operations Metering and Reporting</strong>
<label for=toc-control>
<img src=/svg/toc.svg class=book-icon alt="Table of Contents">
</label>
</div>
<aside class="hidden clearfix">
<nav id=TableOfContents>
<ul>
<li><a href=#vrealize-operations-metering-and-reporting>vRealize Operations Metering and Reporting</a>
<ul>
<li><a href=#configuration>Configuration</a></li>
<li><a href=#metering>Metering</a></li>
<li><a href=#reporting>Reporting</a></li>
<li><a href=#metering-scenarios>Metering Scenarios</a></li>
</ul>
</li>
</ul>
</nav>
</aside>
</header>
<article class=markdown><h1 id=vrealize-operations-metering-and-reporting>
vRealize Operations Metering and Reporting
<a class=anchor href=#vrealize-operations-metering-and-reporting>#</a>
</h1>
<p>Usage Meter supports several vRealize Operations (vROps) configurations:</p>
<ul>
<li>A Service Provider managed vRealize Operations server monitoring a single tenant.</li>
<li>A Service Provider hosted vRealize Operations server for multiple tenants.</li>
<li>A Service Provider hosted vRealize Operations server that manages VMs hosted by SP or hosted on customer’s premises.</li>
<li>A vRealize Operations server configured with multiple vCenter servers.</li>
</ul>
<h2 id=configuration>
Configuration
<a class=anchor href=#configuration>#</a>
</h2>
<p>vRealize Operations in Usage Meter 4.5.0.1 is added the same way as the rest supported VMware products. Providers need to enter the endpoint IP address or hostname, username, and password. If a vCenter server monitored by vROps is added to Usage Meter, then this vCenter will appear as a referenced vCenter in the details of the added vROps instance.</p>
<p>vCenter servers monitored by a vRealize Operations server, which are also added for metering by Usage Meter, are named “Managed vCenter” servers. vCenter servers monitored by a vRealize Operations server but not added for metering to Usage Meter are named “Unmanaged Servers”. Both Managed and Unmanaged vCenter servers are listed in Usage Meter vRealize Operations report lines.</p>
<p>“Unmanaged Servers” can be associated with only one vRealize Operations instance if monitored by multiple instances. This will be the vRealize Operations instance with the highest edition. Virtual machines part of that “Unmanaged Servers” will be billed once no matter how many vRealize Operations instances are monitoring them. For the billing of monitored VMs will be taken the vRealize Operations instance with the highest edition.</p>
<p>Usage Meter connects to a vRealize Operations server using the account provided by the Usage Meter administrator. Usage Meter will meter all VMs that are visible through the provided account.</p>
<p>To meter only a subset of monitored VMs, for example, to divide monitoring by Tenant, vRealize Operations should be configured to filter the monitored virtual machines to include only a subset of the VMs deployed to the monitored vCenter instance.</p>
<p>This is accomplished by creating a new account in vRealize Operations and configuring Role Base Access Controls to restrict the view of the account to the desired Virtual Machines. The RBAC restricted account and credentials are provided to Usage Meter when the vRealize Operations server registration is completed.<br>
 
Refer to the <a href="https://vmstarcommunity.force.com/partnerconnect/PC_Login?ec=302&startURL=%2Fpartnerconnect%2Fs%2Fcontentdocument%2F06980000000bpky">Product Usage Guide</a>for detailed configuration instructions.</p>
<p><img src=/images/usage-meter-product-detection/vrops-1.png alt>)
Figure 10</p>
<h2 id=metering>
Metering
<a class=anchor href=#metering>#</a>
</h2>
<p>The vRealize Operations license edition is retrieved by Usage Meter from the vRealize Operations server during each data collection.
vRealize Operations metering is based on Virtual Machines monitored by a vRealize Operations Server. Service providers are responsible for reporting usage for monitored VMs and OSI Instances (which represent non-virtualized servers). Usage Meter 4.5.0.1 does not track OSI instances monitored by vRealize Operations or add-on packages such as Blue Medora.
Usage Meter 4.5.0.1 automatically detects the following vRealize Operations editions:</p>
<ul>
<li>vRealize Operations Standard</li>
<li>vRealize Operations Advanced</li>
<li>vRealize Operations Enterprise</li>
</ul>
<p>When Usage Meter connects to a vRealize Operations instance, it checks for its version. If the version of the metered vRealize Operations instance is 8.6 or later, Usage Meter checks if there are VMs part of a license group. If there are such VMs, Usage Meter 4.5.0.1 reports them against the highest vRealize Operations edition assigned to that license group. In case there is a VM part of multiple license groups, then Usage Meter will report the highest edition of the first license group it queries.</p>
<p>For vRealize Operations instances with previous versions, Usage Meter 4.5.0.1 will only report the monitored VMs against the highest vRealize Operations edition that it detects. Usage Meter 4.5.0.1 will not check if there are VMs part of license groups for vRealize Operations before version 8.6.</p>
<p>For example, if Usage Meter 4.5.0.1 connects to vRealize Operations 8.5 and it detects two license editions: Advanced and Standard, then for all VMs monitored by that vROps, the reported license by Usage Meter 4.5.0.1 will be Advanced.
In the Monthly Usage Report, the highest detected vROps license edition by Usage Meter will be reported irrespective of the vROps version. The highest license against which a VM is reported can be checked in the Virtual Machine History Report.</p>
<h2 id=reporting>
Reporting
<a class=anchor href=#reporting>#</a>
</h2>
<p>vRealize Operations is reported by Usage Meter 4.5.0.1 as either Flex Add-on or standalone.
When usage is reported as a Flex Add-on, the metric is the Avg Capped Billed vRAM value of the monitored Virtual Machine.
When reported standalone, the metric is the Average Number of Virtual Machines monitored by vRealize Operations during the reporting month.</p>
<p>The following rules apply to the reporting of vRealize Operations:</p>
<ul>
<li>vRealize Operations Standard, Advanced and Enterprise editions are reported as a Flex add-on or standalone depending on the customer’s preference.</li>
<li>vCenter servers using vRealize Operations will always be reported as a standalone line item on the monthly usage report as (unmanaged) if they are not added to vCloud Usage Meter.</li>
<li>When vRealize Operations edition is reported as standalone, and the vCenter servers monitored by it are added to Usage Meter 4.5.0.1, then the monthly usage report will include a single line vRealize Operations edition (managed).</li>
<li>Unmanaged vCenter Servers are associated with only one vRealize Operations instances if monitored by multiple vRealize Operations instances. The VMs of those unmanaged vCenter Servers will be billed once based on the vRealize Operations instance with the highest edition.</li>
</ul>
<h2 id=metering-scenarios>
Metering Scenarios
<a class=anchor href=#metering-scenarios>#</a>
</h2>
<p><strong>Scenario One:</strong> vRealize Operations Server monitoring both SP and Tenant vCenters</p>
<p><img src=/images/usage-meter-product-detection/vrops-2.png alt></p>
<p>Figure 11</p>
<p>Consider the following reporting scenario:
A vCenter server is registered with Usage Meter.<br>
A vRealize Operations server that monitors the same vCenter is also added for metering to Usage Meter 4.5.0.1.
Usage Meter queries the vRealize Operations server to determine what vCenter servers it monitors.
The vRealize Operations server returns a list of three vCenter servers, only one of which is registered with Usage Meter.
Usage Meter monthly report will include 2 Unmanaged vRealize Operations servers and 1 Managed vRealize Operations server line items.</p>
</article>
<footer class=book-footer>
<div class="flex flex-wrap justify-between">
</div>
<script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>
</footer>
<div class=book-comments>
</div>
<label for=menu-control class="hidden book-menu-overlay"></label>
</div>
<aside class=book-toc>
<div class=book-toc-content>
<nav id=TableOfContents>
<ul>
<li><a href=#vrealize-operations-metering-and-reporting>vRealize Operations Metering and Reporting</a>
<ul>
<li><a href=#configuration>Configuration</a></li>
<li><a href=#metering>Metering</a></li>
<li><a href=#reporting>Reporting</a></li>
<li><a href=#metering-scenarios>Metering Scenarios</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</aside>
</main>
</body>
</html>
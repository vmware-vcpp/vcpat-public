<!doctype html><html lang=en-us dir=ltr>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Setting Up VMware Cloud Director Availability at a GCVE SDDC #  User Permissions for Google Cloud VMware Engine #  The default vSphere administrative user that comes with Google Cloud VMware Engine is CloudOwner@gve.local. Despite its administrative rights, the CloudOwner user misses some privileges (like Host.Config.Connection, for example) for the VMware Cloud Director Availability Classic data engine to operate properly. Even the temporary elevation of the CloudOwner privileges (link) does not help to perform a successful replication.">
<meta name=theme-color content="#FFFFFF">
<meta name=color-scheme content="light dark"><meta property="og:title" content="VMware Cloud Director Availability Certificate Management">
<meta property="og:description" content="Setting Up VMware Cloud Director Availability at a GCVE SDDC #  User Permissions for Google Cloud VMware Engine #  The default vSphere administrative user that comes with Google Cloud VMware Engine is CloudOwner@gve.local. Despite its administrative rights, the CloudOwner user misses some privileges (like Host.Config.Connection, for example) for the VMware Cloud Director Availability Classic data engine to operate properly. Even the temporary elevation of the CloudOwner privileges (link) does not help to perform a successful replication.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://vcpat.cloudhappens.io/docs/dr-migration/vcda-gcve-sddc/"><meta property="article:section" content="docs">
<meta property="article:modified_time" content="2022-11-11T15:16:34+02:00">
<title>VMware Cloud Director Availability Certificate Management | VMware Cloud Provider Architecture Toolkit</title>
<link rel=manifest href=/manifest.json>
<link rel=icon href=/favicon.png type=image/x-icon>
<link rel=stylesheet href=/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous>
<script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.f1ae372c10d8b924310f631d62ca84f0dfbf29e45a6f9d4b0e822243ba473577.js integrity="sha256-8a43LBDYuSQxD2MdYsqE8N+/KeRab51LDoIiQ7pHNXc=" crossorigin=anonymous></script>
</head>
<body dir=ltr>
<input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<main class="container flex">
<aside class=book-menu>
<div class=book-menu-content>
<nav>
<h2 class=book-brand>
<a class="flex align-center" href=/><span>VMware Cloud Provider Architecture Toolkit</span>
</a>
</h2>
<div class=book-search>
<input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/>
<div class="book-search-spinner hidden"></div>
<ul id=book-search-results></ul>
</div>
<ul>
<li><a href=/feedback/><em>Feedback</em></a></li>
</ul>
<h2 id=draft-validated-solutions>
Draft Validated Solutions:
<a class=anchor href=#draft-validated-solutions>#</a>
</h2>
<ul>
<li><a href=/docs/cloud-infrastructure/><strong>Cloud Infrastructure</strong></a>
<ul>
<li><a href=/docs/cloud-infrastructure/planning/>Planning and Preparation</a></li>
<li><a href=/docs/cloud-infrastructure/design/>Design Objectives</a></li>
<li><a href=/docs/cloud-infrastructure/detailed-design/>Detailed Design</a></li>
<li><a href=/docs/cloud-infrastructure/implementation/>Implementation</a></li>
<li><a href=/docs/cloud-infrastructure/operations/>Operational Guidance</a></li>
<li><a href=/docs/cloud-infrastructure/design-decisions/>Design Decisions</a></li>
<li><a href=/docs/cloud-infrastructure/solution-interop/>Solution Interoperability</a></li>
</ul>
</li>
<li><a href=/docs/dr-migration/><strong>DR and Migration</strong></a>
<ul>
<li><a href=/docs/dr-migration/planning/>Planning and Preparation</a></li>
<li><a href=/docs/dr-migration/design/>Design Objectives</a></li>
<li><a href=/docs/dr-migration/detailed-design/>Detailed Design</a></li>
<li><a href=/docs/dr-migration/implementation/>Implementation</a></li>
<li><a href=/docs/dr-migration/operations/>Operational Guidance</a></li>
</ul>
</li>
<li><a href=/docs/developer-ready-cloud/><strong>Developer Ready Cloud</strong></a>
<ul>
<li><a href=/docs/developer-ready-cloud/planning/>Planning and Preparation</a></li>
<li><a href=/docs/developer-ready-cloud/design/>Design Objectives</a></li>
<li><a href=/docs/developer-ready-cloud/detailed-design/>Detailed Design</a></li>
<li><a href=/docs/developer-ready-cloud/implementation/>Implementation</a></li>
<li><a href=/docs/developer-ready-cloud/operations/>Operational Guidance</a></li>
</ul>
</li>
<li><a href=/docs/sovereign-cloud/><strong>Sovereign Cloud</strong></a>
<ul>
<li><a href=/docs/sovereign-cloud/planning/>Planning and Preparation</a></li>
<li><a href=/docs/sovereign-cloud/design/>Design Objectives</a></li>
<li><a href=/docs/sovereign-cloud/detailed-design/>Detailed Design</a></li>
<li><a href=/docs/sovereign-cloud/implementation/>Implementation</a></li>
<li><a href=/docs/sovereign-cloud/operations/>Operational Guidance</a></li>
</ul>
</li>
</ul>
<h2 id=toolkit-documents>
Toolkit Documents:
<a class=anchor href=#toolkit-documents>#</a>
</h2>
<ul>
<li><strong>VMware Cloud Provider Lifecycle Manager</strong></li>
<li><a href=/docs/cloud-director/><strong>VMware Cloud Director</strong></a>
<ul>
<li>Automation</li>
<li>Branding & Themes</li>
<li>Extensibility</li>
<li><a href=/docs/cloud-director/identity-access/>Identity & Access</a></li>
<li>Multi-site</li>
<li>Networking</li>
<li>Scale</li>
<li>Security</li>
</ul>
</li>
<li><strong>VMware Cloud Director service</strong>
<ul>
<li><a href=/docs/cloud-director-service/implementation/>Implementation</a></li>
</ul>
</li>
<li><strong>VMware Cloud Director Availability</strong></li>
<li><strong>VMware vCloud Usage Meter</strong></li>
<li><strong>VMware Cloud Director Container Service Extension</strong></li>
<li><strong>VMware Cloud Director Oject Storage Extension</strong></li>
<li><strong>VMware Cloud Director Application Launchpad</strong>
<br></li>
</ul>
<ul>
<li>
<a href=https://cloudsolutions.vmware.com target=_blank rel=noopener>
VMware Cloud Solutions
</a>
</li>
</ul>
</nav>
<script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</div>
</aside>
<div class=book-page>
<header class=book-header>
<div class="flex align-center justify-between">
<label for=menu-control>
<img src=/svg/menu.svg class=book-icon alt=Menu>
</label>
<strong>VMware Cloud Director Availability Certificate Management</strong>
<label for=toc-control>
</label>
</div>
</header>
<article class=markdown><h1 id=setting-up-vmware-cloud-director-availability-at-a-gcve-sddc>
Setting Up VMware Cloud Director Availability at a GCVE SDDC
<a class=anchor href=#setting-up-vmware-cloud-director-availability-at-a-gcve-sddc>#</a>
</h1>
<h2 id=user-permissions-for-google-cloud-vmware-engine>
User Permissions for Google Cloud VMware Engine
<a class=anchor href=#user-permissions-for-google-cloud-vmware-engine>#</a>
</h2>
<p>The default vSphere administrative user that comes with Google Cloud VMware Engine is <a href=mailto:CloudOwner@gve.local>CloudOwner@gve.local</a>. Despite its administrative rights, the CloudOwner user misses some privileges (like Host.Config.Connection, for example) for the VMware Cloud Director Availability Classic data engine to operate properly.
Even the temporary elevation of the CloudOwner privileges (link) does not help to perform a successful replication.</p>
<p>However, out-of-the-box Google Cloud VMware Engine creates 5 vSphere solution users with full administrative privileges. They are intended to be used by products like VMware Cloud Director, VMware SRM and also other VMware and non-VMware tools.
By using one of the solution users during the VMware Cloud Director Availability configuration, the product can successfully create and maintain a healthy replication. A description of the solution user accounts and steps how to enable them is available here.</p>
<p><strong>NOTE: The password of the solution user expires 365 days after it was changed last. This means resetting it needs to be considered every year not to disrupt the service.</strong></p>
<h2 id=google-cloud-vmware-engine-network-configuration>
Google Cloud VMware Engine Network Configuration
<a class=anchor href=#google-cloud-vmware-engine-network-configuration>#</a>
</h2>
<p>In terms of internal networking and communication, Google Cloud VMware Engine is not as restrictive as VMC on AWS, for example. There is no need to define firewall rules for enabling the VMware Cloud Director Availability appliances to access the ESXi hosts, for example.</p>
<p>Still these requirements need to be met:</p>
<ol>
<li>Have a network segment for the VMware Cloud Director Availability appliances to connect to. It can be an existing one or specially created for VMware Cloud Director Availability. Managing network segments is done directly through the VMware NSX-T Data Center UI deployed in Google Cloud VMware Engine. For further instructions, please refer to the VMware NSX-T Data Center user documentation.</li>
<li>Request a new public IP and forward it to the VMware Cloud Director Availability Cloud Tunnel appliance internal IP address.</li>
</ol>
<p><img src=/images/dr-migration/implementation/vcda-gcve-sddc/gcve-public-ip-request.png alt="GCVE Public IP Request"></p>
<ol start=3>
<li>Define a firewall table that will allow incoming traffic to the Cloud Tunnel.</li>
</ol>
<p><img src=/images/dr-migration/implementation/vcda-gcve-sddc/gcve-fw-table.png alt="GCVE Firewall Table"></p>
<h2 id=vmware-cloud-director-availability-deployment>
VMware Cloud Director Availability Deployment
<a class=anchor href=#vmware-cloud-director-availability-deployment>#</a>
</h2>
<p>The VMware Cloud Director Availability appliances deployment is following the typical sequence of deployment steps that can be found in the documentation.</p>
<p>The only consideration to be made is during the Initial Setup Wizard when specifying the data engine (Classic or VMC). When the Classic data engine is selected, the solution user credentials need to be provided when connecting to the Lookup service. And when the VMC engine is selected, both CloudOwner and solution user can be used for connecting to the Lookup service.</p>
<p><img src=/images/dr-migration/implementation/vcda-gcve-sddc/data-engine-selection.png alt="GCVE Firewall Table"></p>
</article>
<footer class=book-footer>
<div class="flex flex-wrap justify-between">
</div>
<script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>
</footer>
<div class=book-comments>
</div>
<label for=menu-control class="hidden book-menu-overlay"></label>
</div>
</main>
</body>
</html>